## redux

> ### åŸºç¡€
  
  ![reduxå·¥ä½œæµ](../assets/img/redux.jpg)

  #### ***1.æ•°æ®æµ:***
  **ä¸¥æ ¼çš„å•å‘æ•°æ®æµæ˜¯ Redux æ¶æ„çš„è®¾è®¡æ ¸å¿ƒã€‚**
  **Redux åº”ç”¨ä¸­æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸéµå¾ªä¸‹é¢ 4 ä¸ªæ­¥éª¤ï¼š**
  1. è°ƒç”¨ store.dispatch(action)ã€‚
      - Action å°±æ˜¯ä¸€ä¸ªæè¿°â€œå‘ç”Ÿäº†ä»€ä¹ˆâ€çš„æ™®é€šå¯¹è±¡ã€‚
  2. Redux store è°ƒç”¨ä¼ å…¥çš„ reducer å‡½æ•°ã€‚
      - Store ä¼šæŠŠä¸¤ä¸ªå‚æ•°ä¼ å…¥ reducerï¼š å½“å‰çš„ state æ ‘å’Œ actionã€‚
  3. æ ¹ reducer åº”è¯¥æŠŠå¤šä¸ªå­ reducer è¾“å‡ºåˆå¹¶æˆä¸€ä¸ªå•ä¸€çš„ state æ ‘ã€‚
      - æ ¹ reducer çš„ç»“æ„å®Œå…¨ç”±ä½ å†³å®šã€‚Redux åŸç”Ÿæä¾›combineReducers()è¾…åŠ©å‡½æ•°ï¼Œæ¥æŠŠæ ¹ reducer æ‹†åˆ†æˆå¤šä¸ªå‡½æ•°ï¼Œç”¨äºåˆ†åˆ«å¤„ç† state æ ‘çš„ä¸€ä¸ªåˆ†æ”¯ã€‚
  4. Redux store ä¿å­˜äº†æ ¹ reducer è¿”å›çš„å®Œæ•´ state æ ‘ã€‚
      - è¿™ä¸ªæ–°çš„æ ‘å°±æ˜¯åº”ç”¨çš„ä¸‹ä¸€ä¸ª stateï¼æ‰€æœ‰è®¢é˜… store.subscribe(listener) çš„ç›‘å¬å™¨éƒ½å°†è¢«è°ƒç”¨ï¼›ç›‘å¬å™¨é‡Œå¯ä»¥è°ƒç”¨ store.getState() è·å¾—å½“å‰ stateã€‚
  
  ----
  #### ***2.Action:***
  **Actionæ˜¯æŠŠæ•°æ®ä»åº”ç”¨ä¼ åˆ° store çš„æœ‰æ•ˆè½½è·ã€‚å®ƒæ˜¯ store æ•°æ®çš„å”¯ä¸€æ¥æºã€‚**
  **ä¸€èˆ¬æ¥è¯´ä½ ä¼šé€šè¿‡ store.dispatch() å°† action ä¼ åˆ° storeã€‚**
  **å¯ä»¥æŠŠ action ç†è§£æˆæ–°é—»çš„æ‘˜è¦ã€‚å¦‚ â€œç›ä¸½å–œæ¬¢42å·æ–‡ç« ã€‚â€ æˆ–è€… â€œä»»åŠ¡åˆ—è¡¨é‡Œæ·»åŠ äº†'å­¦ä¹  Redux æ–‡æ¡£'â€ã€‚**
  **ä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ store.dispatch(action)ï¼ŒåŒ…æ‹¬ç»„ä»¶ä¸­ã€XHR å›è°ƒä¸­ã€ç”šè‡³å®šæ—¶å™¨ä¸­ã€‚**
  
  ----
  #### ***3.Reducer:***
  **Reducers æŒ‡å®šäº†åº”ç”¨çŠ¶æ€çš„å˜åŒ–å¦‚ä½•å“åº” actions å¹¶å‘é€åˆ° store çš„ï¼Œ**
  **Reducers å°±æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼Œæ¥æ”¶æ—§çš„ state å’Œ actionï¼Œè¿”å›æ–°çš„ stateã€‚(previousState, action) => newState**
  **æ°¸è¿œä¸è¦åœ¨ reducer é‡Œåšè¿™äº›æ“ä½œï¼š**
  1. ä¿®æ”¹ä¼ å…¥å‚æ•°ï¼›
  1. æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„æ“ä½œï¼Œå¦‚ API è¯·æ±‚å’Œè·¯ç”±è·³è½¬ï¼›
  1. è°ƒç”¨éçº¯å‡½æ•°ï¼Œå¦‚ Date.now() æˆ– Math.random()ã€‚
  
  ----
  #### ***4.Store:***
  **Store å°±æ˜¯ç”¨æ¥ç»´æŒåº”ç”¨æ‰€æœ‰çš„ state æ ‘ çš„ä¸€ä¸ªå¯¹è±¡ã€‚ æ”¹å˜ store å†… state çš„æƒŸä¸€é€”å¾„æ˜¯å¯¹å®ƒ dispatch ä¸€ä¸ª actionã€‚**
  **Store ä¸æ˜¯ç±»ã€‚å®ƒåªæ˜¯æœ‰å‡ ä¸ªæ–¹æ³•çš„å¯¹è±¡ã€‚ è¦åˆ›å»ºå®ƒï¼Œåªéœ€è¦æŠŠæ ¹éƒ¨çš„ reducing å‡½æ•° ä¼ é€’ç»™ createStoreã€‚**
  **Store å°±æ˜¯æŠŠActionå’ŒReducerè”ç³»åˆ°ä¸€èµ·çš„å¯¹è±¡ã€‚**
  - ##### Storeçš„æ–¹æ³•:
    - ###### getState()
        - ###### *ä½œç”¨ï¼š*
          è¿”å›åº”ç”¨å½“å‰çš„ state æ ‘ã€‚å®ƒä¸ store çš„æœ€åä¸€ä¸ª reducer è¿”å›å€¼ç›¸åŒã€‚
        - ###### *è¿”å›å€¼ï¼š*
          (any): åº”ç”¨å½“å‰çš„ state æ ‘ã€‚
    - ###### dispatch(action)
        - ###### *ä½œç”¨ï¼š*
          åˆ†å‘ actionã€‚è¿™æ˜¯è§¦å‘ state å˜åŒ–çš„æƒŸä¸€é€”å¾„ã€‚ä¼šä½¿ç”¨å½“å‰ getState() çš„ç»“æœå’Œä¼ å…¥çš„ action ä»¥åŒæ­¥æ–¹å¼çš„è°ƒç”¨ store çš„ reduce å‡½æ•°ã€‚è¿”å›å€¼ä¼šè¢«ä½œä¸ºä¸‹ä¸€ä¸ª stateã€‚ä»ç°åœ¨å¼€å§‹ï¼Œè¿™å°±æˆä¸ºäº† getState() çš„è¿”å›å€¼ï¼ŒåŒæ—¶å˜åŒ–ç›‘å¬å™¨(change listener)ä¼šè¢«è§¦å‘ã€‚
        - ###### *å‚æ•°ï¼š*
          action (Object)
        - ###### *è¿”å›å€¼ï¼š*
          (Object): è¦ dispatch çš„ actionã€‚
        - ###### *æ³¨æ„ï¼š*
          ä½¿ç”¨ createStore åˆ›å»ºçš„ â€œçº¯æ­£â€ store åªæ”¯æŒæ™®é€šå¯¹è±¡ç±»å‹çš„ actionï¼Œè€Œä¸”ä¼šç«‹å³ä¼ åˆ° reducer æ¥æ‰§è¡Œã€‚
          ä½†æ˜¯ï¼Œå¦‚æœä½ ç”¨ applyMiddleware æ¥å¥—ä½ createStore æ—¶ï¼Œmiddleware å¯ä»¥ä¿®æ”¹ action çš„æ‰§è¡Œï¼Œå¹¶æ”¯æŒæ‰§è¡Œ dispatch intentï¼ˆæ„å›¾ï¼‰ã€‚Intent ä¸€èˆ¬æ˜¯å¼‚æ­¥æ“ä½œå¦‚ Promiseã€Observable æˆ–è€… Thunkã€‚
    - ###### subscribe(listener)
        - ###### *ä½œç”¨ï¼š*
          æ·»åŠ ä¸€ä¸ªå˜åŒ–ç›‘å¬å™¨ã€‚æ¯å½“ dispatch action çš„æ—¶å€™å°±ä¼šæ‰§è¡Œï¼Œstate æ ‘ä¸­çš„ä¸€éƒ¨åˆ†å¯èƒ½å·²ç»å˜åŒ–ã€‚ä½ å¯ä»¥åœ¨å›è°ƒå‡½æ•°é‡Œè°ƒç”¨ getState() æ¥æ‹¿åˆ°å½“å‰ stateã€‚å¦‚æœéœ€è¦è§£ç»‘è¿™ä¸ªå˜åŒ–ç›‘å¬å™¨ï¼Œæ‰§è¡Œ subscribe è¿”å›çš„å‡½æ•°å³å¯ã€‚
        - ###### *å‚æ•°ï¼š*
          listener (Function): æ¯å½“ dispatch action çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œçš„å›è°ƒã€‚state æ ‘ä¸­çš„ä¸€éƒ¨åˆ†å¯èƒ½å·²ç»å˜åŒ–ã€‚ä½ å¯ä»¥åœ¨å›è°ƒå‡½æ•°é‡Œè°ƒç”¨ getState() æ¥æ‹¿åˆ°å½“å‰ stateã€‚store çš„ reducer åº”è¯¥æ˜¯çº¯å‡½æ•°ï¼Œå› æ­¤ä½ å¯èƒ½éœ€è¦å¯¹ state æ ‘ä¸­çš„å¼•ç”¨åšæ·±åº¦æ¯”è¾ƒæ¥ç¡®å®šå®ƒçš„å€¼æ˜¯å¦æœ‰å˜åŒ–ã€‚
        - ###### *è¿”å›å€¼ï¼š*
          (Function): ä¸€ä¸ªå¯ä»¥è§£ç»‘å˜åŒ–ç›‘å¬å™¨çš„å‡½æ•°ã€‚
    - ###### replaceReducer(nextReducer)
        - ###### *ä½œç”¨ï¼š*
          æ›¿æ¢ store å½“å‰ç”¨æ¥è®¡ç®— state çš„ reducerã€‚è¿™æ˜¯ä¸€ä¸ªé«˜çº§ APIã€‚åªæœ‰åœ¨ä½ éœ€è¦å®ç°ä»£ç åˆ†éš”ï¼Œè€Œä¸”éœ€è¦ç«‹å³åŠ è½½ä¸€äº› reducer çš„æ—¶å€™æ‰å¯èƒ½ä¼šç”¨åˆ°å®ƒã€‚åœ¨å®ç° Redux çƒ­åŠ è½½æœºåˆ¶çš„æ—¶å€™ä¹Ÿå¯èƒ½ä¼šç”¨åˆ°ã€‚
        - ###### *å‚æ•°ï¼š*
          reducer (Function) store ä¼šä½¿ç”¨çš„ä¸‹ä¸€ä¸ª reducerã€‚
> ### API
- #### ***createStore(reducer, [preloadedState], enhancer)***
  - ###### *ä½œç”¨ï¼š*
    åˆ›å»ºä¸€ä¸ª Redux store æ¥ä»¥å­˜æ”¾åº”ç”¨ä¸­æ‰€æœ‰çš„ stateã€‚åº”ç”¨ä¸­åº”æœ‰ä¸”ä»…æœ‰ä¸€ä¸ª storeã€‚
  - ###### *å‚æ•°ï¼š*
    - reducer (Function): 
    
      æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å½“å‰çš„ state æ ‘å’Œè¦å¤„ç†çš„ actionï¼Œè¿”å›æ–°çš„state æ ‘ã€‚
    - [preloadedState] (any):
    
       åˆå§‹æ—¶çš„ stateã€‚ åœ¨åŒæ„åº”ç”¨ä¸­ï¼Œä½ å¯ä»¥å†³å®šæ˜¯å¦æŠŠæœåŠ¡ç«¯ä¼ æ¥çš„ state æ°´åˆï¼ˆhydrateï¼‰åä¼ ç»™å®ƒï¼Œæˆ–è€…ä»ä¹‹å‰ä¿å­˜çš„ç”¨æˆ·ä¼šè¯ä¸­æ¢å¤ä¸€ä¸ªä¼ ç»™å®ƒã€‚å¦‚æœä½ ä½¿ç”¨ combineReducers åˆ›å»º reducerï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œä¸ä¼ å…¥çš„ keys ä¿æŒåŒæ ·çš„ç»“æ„ã€‚å¦åˆ™ï¼Œä½ å¯ä»¥è‡ªç”±ä¼ å…¥ä»»ä½• reducer å¯ç†è§£çš„å†…å®¹ã€‚
    - enhancer (Function):
    
      Store enhancer æ˜¯ä¸€ä¸ªç»„åˆ store creator çš„é«˜é˜¶å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å¼ºåŒ–è¿‡çš„ store creatorã€‚è¿™ä¸ middleware ç›¸ä¼¼ï¼Œå®ƒä¹Ÿå…è®¸ä½ é€šè¿‡å¤åˆå‡½æ•°æ”¹å˜ store æ¥å£ã€‚
  - ###### *è¿”å›å€¼ï¼š*
    (Store): ä¿å­˜äº†åº”ç”¨æ‰€æœ‰ state çš„å¯¹è±¡ã€‚æ”¹å˜ state çš„æƒŸä¸€æ–¹æ³•æ˜¯ dispatch actionã€‚ä½ ä¹Ÿå¯ä»¥ subscribe ç›‘å¬ state çš„å˜åŒ–ï¼Œç„¶åæ›´æ–° UIã€‚

  ----
- #### ***combineReducers()***
  - ###### *ä½œç”¨ï¼š*
    combineReducers() æ‰€åšçš„åªæ˜¯ç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥è°ƒç”¨ä½ çš„ä¸€ç³»åˆ— reducerï¼Œæ¯ä¸ª reducer æ ¹æ®å®ƒä»¬çš„ key æ¥ç­›é€‰å‡º state ä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®å¹¶å¤„ç†ï¼Œç„¶åè¿™ä¸ªç”Ÿæˆçš„å‡½æ•°å†å°†æ‰€æœ‰ reducer çš„ç»“æœåˆå¹¶æˆä¸€ä¸ªå¤§çš„å¯¹è±¡ã€‚æ²¡æœ‰ä»»ä½•é­”æ³•ã€‚æ­£å¦‚å…¶ä»– reducersï¼Œå¦‚æœ combineReducers() ä¸­åŒ…å«çš„æ‰€æœ‰ reducers éƒ½æ²¡æœ‰æ›´æ”¹ stateï¼Œé‚£ä¹ˆä¹Ÿå°±ä¸ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚

  ----
- #### ***applyMiddleware(...middlewares)***
  - ###### *ä½œç”¨ï¼š*
    ä½¿ç”¨åŒ…å«è‡ªå®šä¹‰åŠŸèƒ½çš„ middleware æ¥æ‰©å±• Redux æ˜¯ä¸€ç§æ¨èçš„æ–¹å¼ã€‚Middleware å¯ä»¥è®©ä½ åŒ…è£… store çš„ dispatch æ–¹æ³•æ¥è¾¾åˆ°ä½ æƒ³è¦çš„ç›®çš„ã€‚åŒæ—¶ï¼Œ middleware è¿˜æ‹¥æœ‰â€œå¯ç»„åˆâ€è¿™ä¸€å…³é”®ç‰¹æ€§ã€‚å¤šä¸ª middleware å¯ä»¥è¢«ç»„åˆåˆ°ä¸€èµ·ä½¿ç”¨ï¼Œå½¢æˆ middleware é“¾ã€‚å…¶ä¸­ï¼Œæ¯ä¸ª middleware éƒ½ä¸éœ€è¦å…³å¿ƒé“¾ä¸­å®ƒå‰åçš„ middleware çš„ä»»ä½•ä¿¡æ¯ã€‚
    Middleware æœ€å¸¸è§çš„ä½¿ç”¨åœºæ™¯æ˜¯æ— éœ€å¼•ç”¨å¤§é‡ä»£ç æˆ–ä¾èµ–ç±»ä¼¼ Rx çš„ç¬¬ä¸‰æ–¹åº“å®ç°å¼‚æ­¥ actionsã€‚è¿™ç§æ–¹å¼å¯ä»¥è®©ä½ åƒ dispatch ä¸€èˆ¬çš„ actions é‚£æ · dispatch å¼‚æ­¥ actionsã€‚

  ----
- #### ***bindActionCreators(actionCreators, dispatch)***
  - ###### *ä½œç”¨ï¼š*
    æŠŠä¸€ä¸ª value ä¸ºä¸åŒ action creator çš„å¯¹è±¡ï¼Œè½¬æˆæ‹¥æœ‰åŒå key çš„å¯¹è±¡ã€‚åŒæ—¶ä½¿ç”¨ dispatch å¯¹æ¯ä¸ª action creator è¿›è¡ŒåŒ…è£…ï¼Œä»¥ä¾¿å¯ä»¥ç›´æ¥è°ƒç”¨å®ƒä»¬ã€‚
    ä¸€èˆ¬æƒ…å†µä¸‹ä½ å¯ä»¥ç›´æ¥åœ¨ Store å®ä¾‹ä¸Šè°ƒç”¨ dispatchã€‚å¦‚æœä½ åœ¨ React ä¸­ä½¿ç”¨ Reduxï¼Œreact-redux ä¼šæä¾› dispatch å‡½æ•°è®©ä½ ç›´æ¥è°ƒç”¨å®ƒ ã€‚
    æƒŸä¸€ä¼šä½¿ç”¨åˆ° bindActionCreators çš„åœºæ™¯æ˜¯å½“ä½ éœ€è¦æŠŠ action creator å¾€ä¸‹ä¼ åˆ°ä¸€ä¸ªç»„ä»¶ä¸Šï¼Œå´ä¸æƒ³è®©è¿™ä¸ªç»„ä»¶è§‰å¯Ÿåˆ° Redux çš„å­˜åœ¨ï¼Œè€Œä¸”ä¸å¸Œæœ›æŠŠ dispatch æˆ– Redux store ä¼ ç»™å®ƒã€‚
    ä¸ºæ–¹ä¾¿èµ·è§ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ã€‚
    å¦ä¸€æ›¿ä»£ bindActionCreators çš„åšæ³•æ˜¯ç›´æ¥æŠŠ dispatch å‡½æ•°å½“ä½œ prop ä¼ é€’ç»™å­ç»„ä»¶ï¼Œä½†è¿™æ—¶ä½ çš„å­ç»„ä»¶éœ€è¦å¼•å…¥ action creator å¹¶ä¸”æ„ŸçŸ¥å®ƒä»¬

  ----
- #### ***compose(...functions)***
  - ###### *ä½œç”¨ï¼š*
    ä»å³åˆ°å·¦æ¥ç»„åˆå¤šä¸ªå‡½æ•°ã€‚
    è¿™æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„æ–¹æ³•ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¢«æ”¾åˆ°äº† Redux é‡Œã€‚å½“éœ€è¦æŠŠå¤šä¸ª store å¢å¼ºå™¨ ä¾æ¬¡æ‰§è¡Œçš„æ—¶å€™ï¼Œéœ€è¦ç”¨åˆ°å®ƒã€‚

> ### react-redux

Redux å®˜æ–¹æä¾›çš„ React ç»‘å®šåº“,å…·æœ‰é«˜æ•ˆä¸”çµæ´»çš„ç‰¹æ€§ã€‚æ­¤åº“å¹¶ä¸æ˜¯ Redux å†…ç½®ï¼Œéœ€è¦å•ç‹¬å®‰è£…ã€‚

- #### react-redux API:

  - ##### ***`<Provider store>`***
    - ###### *ä½œç”¨ï¼š*
      `<Provider store>` ä½¿ç»„ä»¶å±‚çº§ä¸­çš„ connect() æ–¹æ³•éƒ½èƒ½å¤Ÿè·å¾— Redux storeã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œä½ çš„æ ¹ç»„ä»¶åº”è¯¥åµŒå¥—åœ¨ `<Provider>` ä¸­æ‰èƒ½ä½¿ç”¨ connect() æ–¹æ³•ã€‚
    - ###### *å±æ€§ï¼š*
      - store (Redux Store): åº”ç”¨ç¨‹åºä¸­å”¯ä¸€çš„ Redux store å¯¹è±¡
      - children (ReactElement) ç»„ä»¶å±‚çº§çš„æ ¹ç»„ä»¶ã€‚

  - ##### ***`connect([mapStateToProps], [mapDispatchToProps], [mergeProps], [options])`***
    - ###### *ä½œç”¨ï¼š*
      è¿æ¥ React ç»„ä»¶ä¸ Redux storeã€‚è¿æ¥æ“ä½œä¸ä¼šæ”¹å˜åŸæ¥çš„ç»„ä»¶ç±»ã€‚åè€Œè¿”å›ä¸€ä¸ªæ–°çš„å·²ä¸ Redux store è¿æ¥çš„ç»„ä»¶ç±»ã€‚
    - ###### *å‚æ•°ï¼š*
      - [mapStateToProps(state, [ownProps]): stateProps] (Function)ï¼š
        
        å¦‚æœå®šä¹‰è¯¥å‚æ•°ï¼Œç»„ä»¶å°†ä¼šç›‘å¬ Redux store çš„å˜åŒ–ã€‚ä»»ä½•æ—¶å€™ï¼Œåªè¦ Redux store å‘ç”Ÿæ”¹å˜ï¼ŒmapStateToProps å‡½æ•°å°±ä¼šè¢«è°ƒç”¨ã€‚è¯¥å›è°ƒå‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªçº¯å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¼šä¸ç»„ä»¶çš„ props åˆå¹¶ã€‚å¦‚æœä½ çœç•¥äº†è¿™ä¸ªå‚æ•°ï¼Œä½ çš„ç»„ä»¶å°†ä¸ä¼šç›‘å¬ Redux storeã€‚å¦‚æœæŒ‡å®šäº†è¯¥å›è°ƒå‡½æ•°ä¸­çš„ç¬¬äºŒä¸ªå‚æ•° ownPropsï¼Œåˆ™è¯¥å‚æ•°çš„å€¼ä¸ºä¼ é€’åˆ°ç»„ä»¶çš„ propsï¼Œè€Œä¸”åªè¦ç»„ä»¶æ¥æ”¶åˆ°æ–°çš„ propsï¼ŒmapStateToProps ä¹Ÿä¼šè¢«è°ƒç”¨ï¼ˆä¾‹å¦‚ï¼Œå½“ props æ¥æ”¶åˆ°æ¥è‡ªçˆ¶ç»„ä»¶ä¸€ä¸ªå°å°çš„æ”¹åŠ¨ï¼Œé‚£ä¹ˆä½ æ‰€ä½¿ç”¨çš„ ownProps å‚æ•°ï¼ŒmapStateToProps éƒ½ä¼šè¢«é‡æ–°è®¡ç®—ï¼‰ã€‚

      - [mapDispatchToProps(dispatch, [ownProps]): dispatchProps] (Object or Function)ï¼š

        å¦‚æœä¼ é€’çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†æ¥æ”¶ä¸€ä¸ª dispatch å‡½æ•°ï¼Œç„¶åç”±ä½ æ¥å†³å®šå¦‚ä½•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡é€šè¿‡ dispatch å‡½æ•°ä¸ action creator ä»¥æŸç§æ–¹å¼ç»‘å®šåœ¨ä¸€èµ·ï¼ˆæç¤ºï¼šä½ ä¹Ÿè®¸ä¼šç”¨åˆ° Redux çš„è¾…åŠ©å‡½æ•° bindActionCreators()ã€‚å¦‚æœä½ çœç•¥è¿™ä¸ª mapDispatchToProps å‚æ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œdispatch ä¼šæ³¨å…¥åˆ°ä½ çš„ç»„ä»¶ props ä¸­ã€‚å¦‚æœæŒ‡å®šäº†è¯¥å›è°ƒå‡½æ•°ä¸­ç¬¬äºŒä¸ªå‚æ•° ownPropsï¼Œè¯¥å‚æ•°çš„å€¼ä¸ºä¼ é€’åˆ°ç»„ä»¶çš„ propsï¼Œè€Œä¸”åªè¦ç»„ä»¶æ¥æ”¶åˆ°æ–° propsï¼ŒmapDispatchToProps ä¹Ÿä¼šè¢«è°ƒç”¨ã€‚

      - [mergeProps(stateProps, dispatchProps, ownProps): props] (Function)ï¼š

        å¦‚æœæŒ‡å®šäº†è¿™ä¸ªå‚æ•°ï¼ŒmapStateToProps() ä¸ mapDispatchToProps() çš„æ‰§è¡Œç»“æœå’Œç»„ä»¶è‡ªèº«çš„ props å°†ä¼ å…¥åˆ°è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­ã€‚è¯¥å›è°ƒå‡½æ•°è¿”å›çš„å¯¹è±¡å°†ä½œä¸º props ä¼ é€’åˆ°è¢«åŒ…è£…çš„ç»„ä»¶ä¸­ã€‚ä½ ä¹Ÿè®¸å¯ä»¥ç”¨è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œæ ¹æ®ç»„ä»¶çš„ props æ¥ç­›é€‰éƒ¨åˆ†çš„ state æ•°æ®ï¼Œæˆ–è€…æŠŠ props ä¸­çš„æŸä¸ªç‰¹å®šå˜é‡ä¸ action creator ç»‘å®šåœ¨ä¸€èµ·ã€‚å¦‚æœä½ çœç•¥è¿™ä¸ªå‚æ•°ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿”å› Object.assign({}, ownProps, stateProps, dispatchProps) çš„ç»“æœã€‚

      - [options] (Object)ï¼š

         å¦‚æœæŒ‡å®šè¿™ä¸ªå‚æ•°ï¼Œå¯ä»¥å®šåˆ¶ connector çš„è¡Œä¸ºã€‚

         `[pure = true]` (Boolean):å¦‚æœä¸º trueï¼Œconnector å°†æ‰§è¡Œ shouldComponentUpdate å¹¶ä¸”æµ…å¯¹æ¯” mergeProps çš„ç»“æœï¼Œé¿å…ä¸å¿…è¦çš„æ›´æ–°ï¼Œå‰ææ˜¯å½“å‰ç»„ä»¶æ˜¯ä¸€ä¸ªâ€œçº¯â€ç»„ä»¶ï¼Œå®ƒä¸ä¾èµ–äºä»»ä½•çš„è¾“å…¥æˆ– state è€Œåªä¾èµ–äº props å’Œ Redux store çš„ stateã€‚é»˜è®¤å€¼ä¸º trueã€‚
         
         `[withRef = false]` (Boolean): å¦‚æœä¸º trueï¼Œconnector ä¼šä¿å­˜ä¸€ä¸ªå¯¹è¢«è¢«åŒ…å«çš„ç»„ä»¶å®ä¾‹çš„å¼•ç”¨ï¼Œè¯¥å¼•ç”¨é€šè¿‡ getWrappedInstance() æ–¹æ³•è·å¾—ã€‚é»˜è®¤å€¼ä¸º falseã€‚


> ### å¼‚æ­¥Ation
  [redux-saga](https://github.com/TigerHee/shareJS/blob/master/react/05.redux-saga.md)

> ### ç¤ºä¾‹é¡¹ç›®:
ğŸ’¯[tiger-react-cli](https://github.com/TigerHee/tiger-react-cli)
